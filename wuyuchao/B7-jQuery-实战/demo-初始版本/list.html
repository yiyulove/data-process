<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="css/list.css" />
	</head>
	<body>
		<div class="wrap">
			<div class="wrap-hd clearfix">
				<form id="searchForm">
					<div class="item clearfix">
						<div class="key">姓名：</div>
						<div class="value" >
							<input class="inp-text" type="text" name="userName" />
						</div>
					</div>
					<div class="item clearfix">
						<div class="key">年龄：</div>
						<div class="value">
							<input class="inp-text" type="text" name="userAge" />
						</div>
					</div>
					<div class="item clearfix">
						<div class="key">性别：</div>
						<div class="value">
							<input class="inp-radio" type="radio" name="userSex" value="0"/>男
							<input class="inp-radio" type="radio" name="userSex" value="1" />女
						</div>
					</div>
				</form>
				<div class="item clearfix">
					<button class="btn" id="sousuo" type="button">搜索</button>
					<button class="btn" id="addBtn" type="button">新增</button>
					<button class="btn" id="delBtn" type="button">删除</button>
				</div>
			</div>
	
	
	<table class="wrap-bd" border="1">
				<tbody><tr>
					<th><input type="checkbox" id="allChoose"></th>
					<th>姓名</th>
					<th>年龄</th>
					<th>性别</th>
					<th>籍贯</th>
					<th>身份证号码</th>
					<th>手机号码</th>
					<th>职业</th>
					<th>操作</th>
				</tr>

	<tr>
		<td><input type="checkbox" class="choose"></td>
		<td>张三</td>
		<td>18</td>
		<td> 
			 
				男
			
		
			
		
		</td>
		<td>汉族</td>
		<td>430123456789101112</td>
		<td>12345678910</td>
		<td>学生</td>
		<td>
			<button id="updateBtn" type="button">修改</button>
			<button id="delBtn" type="button">删除</button>
		</td>		
	</tr>

	<tr>
		<td><input type="checkbox" class="choose"></td>
		<td>李四</td>
		<td>22</td>
		<td> 
			
		
			 
				女
			
		
		</td>
		<td>白族</td>
		<td>430123456789101112</td>
		<td>12345678910</td>
		<td>工人</td>
		<td>
			<button id="updateBtn" type="button">修改</button>
			<button id="delBtn" type="button">删除</button>
		</td>		
	</tr>

	<tr>
		<td><input type="checkbox" class="choose"></td>
		<td>王五</td>
		<td>28</td>
		<td> 
			 
				男
			
		
			
		
		</td>
		<td>苗族</td>
		<td>430123456789101112</td>
		<td>12345678910</td>
		<td>企业家</td>
		<td>
			<button id="updateBtn" type="button">修改</button>
			<button id="delBtn" type="button">删除</button>
		</td>		
	</tr>

	<tr>
		<td><input type="checkbox" class="choose"></td>
		<td>赵六</td>
		<td>24</td>
		<td> 
			
		
			 
				女
			
		
		</td>
		<td>土家族</td>
		<td>430123456789101112</td>
		<td>12345678910</td>
		<td>主持人</td>
		<td>
			<button id="updateBtn" type="button">修改</button>
			<button id="delBtn" type="button">删除</button>
		</td>		
	</tr>

			</tbody>
			</table>	
			
				
		</div>
		<script type="text/html" id="addHtml">
			<%%>
			<form>
				<div class="item clearfix">
					<div class="key">姓名：</div>
					<div class="value">
						<input class="inp-text" type="text" name="<%=username%>" />
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">年龄：</div>
					<div class="value">
						<input class="inp-text" type="text" name="<%=age%>" />
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">性别：</div>
					<div class="value">
						<input class="inp-radio" type="radio" name="<%=man%>" value="<%=man%>"/>男
						<input class="inp-radio" type="radio" name="<%=wuman%>" value="<%=wuman%>" />女
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">籍贯：</div>
					<div class="value">
						<input class="inp-text" type="text" name="<%=jiguang%>" />
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">身份证号码：</div>
					<div class="value">
						<input class="inp-text" type="text" name="<%=nameID%>" />
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">手机号码：</div>
					<div class="value">
						<input class="inp-text" type="text" name="<%phone%>" />
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">职业：</div>
					<div class="value">
						<input class="inp-text" type="text" name="<%=jb%>" />
					</div>
				</div>
				<div class="item clearfix">
					<button class="btn submitBtn" id="submitBtn" type="button">提交</button>
				</div>
			</form>
		</script>
		<script type="text/javascript" src="js/jquery.min.js" ></script>
		<script type="text/javascript" src="js/template.js" ></script>
		<script type="text/javascript" src="js/box.js" ></script>
		<script type="text/javascript" src="js/utils.js" ></script>
		<script type="text/javascript" src="js/list.js" ></script>
		<script type="text/javascript" src="js/jquery-1.11.1 (3).js"></script>
		<script>
		$(function(){
		//全选与取消全选
		var all=true;
			$("#allChoose").click(function(){
				if(all==true)
				{
					$(".choose:checkbox").prop("checked",true);
					all=false;
				}
				else
				{
					$(".choose:checkbox").prop("checked",false);
					all=true;
				}
			})
	   
	   //单独取消下面任何选择状态时进行取消最上面得按钮
	    var allcheck=$(".choose");
	    var panduan=true;
	    var k=0;
	    $(".choose").click(function(){
	    	panduan=true
	    	 for(k=0;k<allcheck.length;k++)
			    {
			    	if(!$(".choose:eq("+k+")").prop("checked"))
			    	{
			    		$("#allChoose:checkbox").prop("checked",false);
			    		panduan=false;
			    		break;
			    	}
			    }                       
			   if(panduan==true&&k==allcheck.length)
			   {
			   	   $("#allChoose:checkbox").prop("checked",true);
			   	   panduan=true;
			   }
	    })
	  
	  //点击修改按钮弹出修改框进行修改数据
//	  $("#updateBtn").click(function(){
//	  	 
//	  	 var addhtml=$("#addHtml").html();
//		  var jsons={
//		  	"username":
//		  }
//		   
//	     var arr=$("#addHtml").html();
//	     var f=_.template(arr);
//	     var result=f();
//
//	  })
  	 
//向表中动态插入数据

         var json={
	  	  "data":[
		  	       {
				  	 "username":"wuyuchao",
				  	 "age":"22",
				  	 "sex":"wuman",
				  	 "jihuang":"china",
				  	 "nameId":"4310",
				  	 "phone":"138",
				  	 "jb":"student"
				   },
				    {
				  	 "username":"wanglei",
				  	 "age":"18",
				  	 "sex":"man",
				  	 "jihuang":"china",
				  	 "nameId":"4310",
				  	 "phone":"138",
				  	 "jb":"student"
				   },
				    {
				  	 "username":"xiaoming",
				  	 "age":"22",
				  	 "sex":"wuman",
				  	 "jihuang":"china",
				  	 "nameId":"4310",
				  	 "phone":"138",
				  	 "jb":"student"
				   },
				    {
				  	 "username":"liguiyan",
				  	 "age":"22",
				  	 "sex":"wuman",
				  	 "jihuang":"china",
				  	 "nameId":"4310",
				  	 "phone":"138",
				  	 "jb":"student"
				   }
		  	   ]
	       }
	   
      var arrresult="";
      
       for(var k=0;k<json.data.length;k++)
       {
       	    var ar=json.data[k];
       	   
       	    arrresult+="<tr><td><input type='checkbox' class='choose'></td>";
       	    for(var s in ar)
       	    {
       	    	arrresult+="<td>"+ar[s]+"</td>"
       	    }
       	    arrresult+="<td><button id='updateBtn' type='button'>修改</button><button id='delBtn' type='button'>删除</button></td></tr>";
       }
      $(".wrap-bd").append(arrresult);
    })
      
      
   //搜索功能
      $("#sousuo").click(function(){
      	var alltr=$("tr");
      	var atr="";
      	var trtd=$("tr td");
      	var zaicipanduan=false;
       if($("#userName").val)
       {
        for(var k=0;k<alltr.length;k++)
        {
        	if($("#userName").val==$("tr td:eq(1)").html())
        	{
//      		atr+="<tr><td><input type='checkbox' class='choose'></td>";
//      		for(var s=1;s<trtd.length-1;s++)
//      		{
//      			str+="<td>"+$("tr td:eq(s)").val+"</td>"
//      		}
               $("")
        	}
        }
       }
      })
      
      
      
		</script>
	</body>
</html>
